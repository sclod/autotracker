import type { RegionKey } from "@/data/makes";

export type CarStatus = "available" | "in_transit";

export type Car = {
  id: string;
  name: string;
  make: string;
  makeSlug: string;
  region: RegionKey;
  year: number;
  mileageKm: number;
  price: number;
  location: string;
  status: CarStatus;
  images: string[];
  description: string;
  specLine: string;
  priceFrom: string;
  flag: string;
};

const CAR_IMAGES = Array.from({ length: 12 }, (_, index) => {
  const number = String(index + 1).padStart(2, "0");
  return `/cars/eu/car-${number}.webp`;
});

const pickImages = (offset: number, count = 7) =>
  Array.from({ length: count }, (_, index) => {
    const resolved = (offset + index) % CAR_IMAGES.length;
    return CAR_IMAGES[resolved];
  });

const makeImageSet = (prefix: string) =>
  Array.from({ length: 7 }, (_, index) => `/cars/usa/${prefix}_${index + 1}.jpg`);

const chinaSetA = () =>
  Array.from({ length: 7 }, (_, index) => `/cars/china/${index + 1}.jpg`);
const chinaSetB = () => [
  "/cars/china/cvr_2.jpg",
  "/cars/china/cvr_3.jpg",
  "/cars/china/cvr_4.jpg",
  "/cars/china/cvr_5.jpg",
  "/cars/china/cvr_6.jpg",
  "/cars/china/cvr_7.jpg",
  "/cars/china/cvr_7.jpg",
];
const chinaSetC = () => [
  "/cars/china/monjaro_1.jpg",
  "/cars/china/monjaro_2.jpg",
  "/cars/china/monjaro_3.jpg",
  "/cars/china/monjaro_4.jpg",
  "/cars/china/monjaro_5.jpg",
  "/cars/china/monjaro_6.jpg",
  "/cars/china/monjaro_6.jpg",
];

export const cars: Car[] = [
  // США (6) — локальные серии фото
  {
    id: "bmw-3-series-usa",
    name: "BMW 3 Series",
    make: "BMW",
    makeSlug: "bmw",
    region: "usa",
    year: 2021,
    mileageKm: 28000,
    price: 4200000,
    location: "США · Нью-Йорк",
    status: "available",
    images: makeImageSet("bmw3"),
    description: "Комфортный седан с богатым оснащением и прозрачной историей.",
    specLine: "2021 · RWD · 2.0T · 28 000 км · Бензин",
    priceFrom: "4 200 000",
    flag: "🇺🇸",
  },
  {
    id: "bmw-5-series-usa",
    name: "BMW 5 Series",
    make: "BMW",
    makeSlug: "bmw",
    region: "usa",
    year: 2022,
    mileageKm: 19000,
    price: 5200000,
    location: "США · Нью-Джерси",
    status: "available",
    images: makeImageSet("bmw5"),
    description: "Бизнес-седан с премиальными опциями и комфортной ездой.",
    specLine: "2022 · AWD · 2.0T · 19 000 км · Бензин",
    priceFrom: "5 200 000",
    flag: "🇺🇸",
  },
  {
    id: "bmw-7-series-usa",
    name: "BMW 7 Series",
    make: "BMW",
    makeSlug: "bmw",
    region: "usa",
    year: 2020,
    mileageKm: 36000,
    price: 6900000,
    location: "США · Иллинойс",
    status: "in_transit",
    images: makeImageSet("bmw7"),
    description: "Флагманский седан с роскошным салоном и топ-опциями.",
    specLine: "2020 · AWD · 3.0T · 36 000 км · Бензин",
    priceFrom: "6 900 000",
    flag: "🇺🇸",
  },
  {
    id: "bmw-x5-usa",
    name: "BMW X5",
    make: "BMW",
    makeSlug: "bmw",
    region: "usa",
    year: 2021,
    mileageKm: 24000,
    price: 6200000,
    location: "США · Флорида",
    status: "available",
    images: makeImageSet("x5"),
    description: "Популярный SUV с полным приводом и премиальным салоном.",
    specLine: "2021 · AWD · 3.0T · 24 000 км · Бензин",
    priceFrom: "6 200 000",
    flag: "🇺🇸",
  },
  {
    id: "volkswagen-tiguan-usa",
    name: "Volkswagen Tiguan",
    make: "Volkswagen",
    makeSlug: "volkswagen",
    region: "usa",
    year: 2020,
    mileageKm: 31000,
    price: 3500000,
    location: "США · Техас",
    status: "in_transit",
    images: makeImageSet("tiguan"),
    description: "Практичный кроссовер для города и путешествий.",
    specLine: "2020 · AWD · 2.0T · 31 000 км · Бензин",
    priceFrom: "3 500 000",
    flag: "🇺🇸",
  },
  {
    id: "hyundai-sonata-usa",
    name: "Hyundai Sonata",
    make: "Hyundai",
    makeSlug: "hyundai",
    region: "usa",
    year: 2021,
    mileageKm: 22000,
    price: 2800000,
    location: "США · Калифорния",
    status: "available",
    images: makeImageSet("sonata"),
    description: "Надёжный седан с современным интерьером и ассистентами.",
    specLine: "2021 · FWD · 2.0 · 22 000 км · Бензин",
    priceFrom: "2 800 000",
    flag: "🇺🇸",
  },
  // Европа (6)
  {
    id: "bmw-x5-2022",
    name: "BMW X5 xDrive40i",
    make: "BMW",
    makeSlug: "bmw",
    region: "eu",
    year: 2022,
    mileageKm: 24000,
    price: 7900000,
    location: "Германия · Мюнхен",
    status: "available",
    images: pickImages(6),
    description: "Премиальный кроссовер с прозрачной историей и богатой комплектацией.",
    specLine: "2022 · AWD · 3.0T · 24 000 км · Бензин",
    priceFrom: "7 900 000",
    flag: "🇪🇺",
  },
  {
    id: "mercedes-e220-2021",
    name: "Mercedes-Benz E 220d",
    make: "Mercedes-Benz",
    makeSlug: "mercedes_benz",
    region: "eu",
    year: 2021,
    mileageKm: 31500,
    price: 6200000,
    location: "Нидерланды · Роттердам",
    status: "in_transit",
    images: pickImages(7),
    description: "Бизнес-седан с экономичным дизелем и адаптивной подвеской.",
    specLine: "2021 · RWD · 2.0D · 31 500 км · Дизель",
    priceFrom: "6 200 000",
    flag: "🇪🇺",
  },
  {
    id: "audi-q7-2020",
    name: "Audi Q7 45 TDI",
    make: "Audi",
    makeSlug: "audi",
    region: "eu",
    year: 2020,
    mileageKm: 42000,
    price: 5700000,
    location: "Германия · Берлин",
    status: "available",
    images: pickImages(8),
    description: "Семиместный SUV, полный привод и пакет ассистентов.",
    specLine: "2020 · AWD · 3.0D · 42 000 км · Дизель",
    priceFrom: "5 700 000",
    flag: "🇪🇺",
  },
  {
    id: "porsche-cayenne-2019",
    name: "Porsche Cayenne",
    make: "Porsche",
    makeSlug: "porsche",
    region: "eu",
    year: 2019,
    mileageKm: 51000,
    price: 8900000,
    location: "Франция · Лион",
    status: "available",
    images: pickImages(9),
    description: "Премиальный SUV с мощным мотором и спортивной управляемостью.",
    specLine: "2019 · AWD · 3.0T · 51 000 км · Бензин",
    priceFrom: "8 900 000",
    flag: "🇪🇺",
  },
  {
    id: "volkswagen-tiguan-2021",
    name: "Volkswagen Tiguan",
    make: "Volkswagen",
    makeSlug: "volkswagen",
    region: "eu",
    year: 2021,
    mileageKm: 28000,
    price: 4300000,
    location: "Германия · Гамбург",
    status: "in_transit",
    images: pickImages(10),
    description: "Комфортный SUV с панорамой и полным приводом.",
    specLine: "2021 · AWD · 2.0T · 28 000 км · Бензин",
    priceFrom: "4 300 000",
    flag: "🇪🇺",
  },
  {
    id: "volvo-xc90-2020",
    name: "Volvo XC90 B5",
    make: "Volvo",
    makeSlug: "volvo",
    region: "eu",
    year: 2020,
    mileageKm: 36000,
    price: 6400000,
    location: "Швеция · Гётеборг",
    status: "available",
    images: pickImages(11),
    description: "Безопасный семейный SUV с чистым салоном и прозрачной историей.",
    specLine: "2020 · AWD · 2.0T · 36 000 км · Бензин",
    priceFrom: "6 400 000",
    flag: "🇪🇺",
  },
  // Китай (6)
  {
    id: "zeekr-001-2023",
    name: "Zeekr 001",
    make: "Zeekr",
    makeSlug: "zeekr",
    region: "china",
    year: 2023,
    mileageKm: 8200,
    price: 7100000,
    location: "Китай · Шанхай",
    status: "available",
    images: chinaSetA(),
    description: "Электрический лифтбек с запасом хода 620 км.",
    specLine: "2023 · AWD · EV · 8 200 км · Электро",
    priceFrom: "7 100 000",
    flag: "🇨🇳",
  },
  {
    id: "li-auto-l7-2023",
    name: "Li Auto L7",
    make: "Li Auto",
    makeSlug: "li_auto",
    region: "china",
    year: 2023,
    mileageKm: 9500,
    price: 6200000,
    location: "Китай · Шэньчжэнь",
    status: "in_transit",
    images: chinaSetB(),
    description: "Гибридный флагман с премиальными опциями.",
    specLine: "2023 · AWD · 1.5T · 9 500 км · Гибрид",
    priceFrom: "6 200 000",
    flag: "🇨🇳",
  },
  {
    id: "xpeng-g9-2022",
    name: "Xpeng G9",
    make: "Xpeng",
    makeSlug: "xpeng",
    region: "china",
    year: 2022,
    mileageKm: 14000,
    price: 5600000,
    location: "Китай · Гуанчжоу",
    status: "available",
    images: chinaSetC(),
    description: "Электро-SUV с быстрой зарядкой и панорамой.",
    specLine: "2022 · AWD · EV · 14 000 км · Электро",
    priceFrom: "5 600 000",
    flag: "🇨🇳",
  },
  {
    id: "geely-monjaro-2022",
    name: "Geely Monjaro",
    make: "Geely",
    makeSlug: "geely",
    region: "china",
    year: 2022,
    mileageKm: 17000,
    price: 3900000,
    location: "Китай · Ханчжоу",
    status: "available",
    images: chinaSetC(),
    description: "Комфортный SUV с премиальной отделкой и мультимедиа.",
    specLine: "2022 · AWD · 2.0T · 17 000 км · Бензин",
    priceFrom: "3 900 000",
    flag: "🇨🇳",
  },
  {
    id: "seres-m7-2023",
    name: "Seres M7",
    make: "Seres",
    makeSlug: "seres",
    region: "china",
    year: 2023,
    mileageKm: 7600,
    price: 4700000,
    location: "Китай · Чэнду",
    status: "in_transit",
    images: chinaSetB(),
    description: "Гибридный кроссовер с большим салоном и опциями.",
    specLine: "2023 · AWD · 1.5T · 7 600 км · Гибрид",
    priceFrom: "4 700 000",
    flag: "🇨🇳",
  },
  {
    id: "tesla-modely-2023-cn",
    name: "Tesla Model Y Performance",
    make: "Tesla",
    makeSlug: "tesla",
    region: "china",
    year: 2023,
    mileageKm: 9000,
    price: 5900000,
    location: "Китай · Шанхай",
    status: "available",
    images: chinaSetA(),
    description: "Быстрый кроссовер с полным приводом и автопилотом.",
    specLine: "2023 · AWD · EV · 9 000 км · Электро",
    priceFrom: "5 900 000",
    flag: "🇨🇳",
  },
];

export const popularCars = cars.filter((car) => car.region === "usa").slice(0, 6);

export const carStatusLabels: Record<CarStatus, string> = {
  available: "В наличии",
  in_transit: "В пути",
};
